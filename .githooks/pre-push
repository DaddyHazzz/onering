#!/usr/bin/env bash
# Safety: hooks are opt-in; default skip. Full gate runs only when ONERING_GATE=full (or skip when ONERING_HOOKS=0).
set -euo pipefail

REPO_ROOT="$(git rev-parse --show-toplevel)"
MODE="${ONERING_GATE:-skip}"

powershell -NoProfile -ExecutionPolicy Bypass -File "$REPO_ROOT/.githooks/pre-push.ps1" -Mode "$MODE"
exit $?
